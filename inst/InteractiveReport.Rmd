---
title: "Untitled"
author: "Rainer M Krug"
date: "7/16/2021"
output: html_document
runtime: shiny
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library("LEEF.analysis")
```


To learn more, see [Interactive Documents](http://rmarkdown.rstudio.com/authoring_shiny.html).

## Per Measurement

```{r eruptions, echo=FALSE}
shiny::inputPanel(
  shiny::selectInput(
    "measurement", 
    label = "Measurement:",
    choices = c(
      "bemovi_mag_16", "bemovi_mag_25", "bemovi_mag_25_cropped", 
      "flowcam", 
      "flowcytometer", 
      "manualcount",
      "all"
    ), 
    selected = 1
  ),
  shiny::sliderInput(
    "bottle", 
    label = "Bottle (0 = all Bottles):",
    min = 0, 
    max = 32, 
    value = 0, 
    step = 1
  )
)
   
shiny::renderPlot(
  {
    bottle <- input$bottle
    if (bottle == 0) {
      bottle = NULL
    } else {
      bottle <- sprintf("b_%02d", bottle)
    }
    LEEF.analysis::plot_density_species_per_bottle_per_timestamp(
      db = "~/Desktop/LEEF.RRD.sqlite", 
      measurement = input$measurement,
      bottle = bottle
    )
  },
  height = 1600
)
```
